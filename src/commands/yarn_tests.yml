description: |
  This job performs tests (custom, unit, e2e) for the project.

parameters:
  prj_path:
    type: string
    default: "./"
    description: Project path where 'package.json' lies.

steps:
  - attach_workspace:
      at: ~/project
  - run:
      name: Unit Tests
      command: |
        cd "$prj_path"
        yarn test:unit
  - persist_to_workspace:
      root: ~/project/
      paths:
        - << parameters.prj_path >>/*
